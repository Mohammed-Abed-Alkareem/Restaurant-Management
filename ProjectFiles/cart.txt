from flask import Flask, session, request, jsonify

app = Flask(__name__)
app.secret_key = 'your_secret_key'

# Route for adding items to the cart
@app.route('/add_to_cart', methods=['POST'])
def add_to_cart():
    # Get item details from the request
    item_id = request.json.get('item_id')
    item_name = request.json.get('item_name')
    item_price = request.json.get('item_price')

    # Initialize cart in session if not already present
    if 'cart' not in session:
        session['cart'] = []

    # Add item to cart
    session['cart'].append({'id': item_id, 'name': item_name, 'price': item_price})
    return 'Item added to cart'

# Route for viewing the cart
@app.route('/view_cart')
def view_cart():
    cart = session.get('cart', [])
    return jsonify(cart)

# Route for clearing the cart
@app.route('/clear_cart')
def clear_cart():
    session.pop('cart', None)
    return 'Cart cleared'

if __name__ == '__main__':
    app.run(debug=True)




better

https://chat.openai.com/share/d06272fa-0d32-42f2-94df-4efcfcf50a4d